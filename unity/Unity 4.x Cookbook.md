# Unity 开发实战

> Unity 4.x Cookbook
>
> Matt Smith, Chico Queiroz 著
>
> 童明 译
>
> 机械工业出版社

[TOC]

## 作者简介

​	Matt Smith，现为爱尔兰布兰察斯镇理工学院高级讲师，之前曾在温彻斯特大学和伦敦密德萨斯大学工作，研究并讲授程序设计、人工智能、Web开发和交互式多媒体近20年。最近几年，Matt主要讲授基于Unity的3D游戏开发和交互式虚拟环境主题等。
　　Chico Queiroz，资深多媒体设计师，负责使用Unity为交互式可视化软件开发交互式表现和概念原型。此外，他还是里约热内卢天主教大学的讲师，使用Unity讲授3D游戏建模和相关技术。

## 第1章　Unity 4.X 入门1 

1.1　引言1 
1.2　安装Unity 4.X1 
1.3　设置首选项2 
1.4　了解和优化用户界面3 
1.5　把Unity中创建的资源另存为Prefab5 
1.6　了解Unity中的Content7 
1.7　导入自己的Content8 
1.8　导入Unity的包到项目中9 
1.9　导入自定义包到项目中11 
1.10　从项目中导出自定义包12 
1.11　添加自定义包到Unity的包快捷列表中13 
1.12　使用项目浏览视图14 

## 第2章　使用摄像机17 

2.1　引言17 
2.2　创建画中画效果17 
2.3　在不同摄像机之间切换21 
2.4　自定义镜头光晕效果24 
2.5　从屏幕内容制作纹理27 
2.6　伸缩可变焦的摄像机30 
2.7　制作检视摄像机33 
2.8　用Shuriken制作粒子效果35 
2.9　显示迷你地图38 

## 第3章　制作贴图和材质44 

3.1　引言44 
3.2　创建反射材质44 
3.3　创建自发光材质47 
3.4　创建高光纹理贴图51 
3.5　创建透明纹理贴图54 
3.6　使用cookie纹理模拟多云的户外环境57 
3.7　创建颜色选择对话框61 
3.8　通过GUI实时组合纹理64 
3.9　鼠标悬停时高亮显示材质67 
3.10　通过循环加载一组材质实现动画纹理（例如模拟视频）69 
3.11　禁用材质剔除71 

## 第4章　创建GUI73 

4.1　引言73 
4.2　显示数字时钟73 
4.3　显示指针时钟75 
4.4　用罗盘显示玩家的方向79 
4.5　用雷达指示对象的相对位置82 
4.6　为对应整数显示相应的图片85 
4.7　为对应浮点数和范围显示相应的图片87 
4.8　显示数字倒计时器90 
4.9　显示图形倒计时器（5，4，3，2，1——发射）91 
4.10　显示饼图样式的图形倒计时器93 
4.11　创建逐渐消失的消息96 
4.12　为单个对象拾取显示物品栏文本97 
4.13　为单个对象拾取显示物品栏图标 100 
4.14　用一个通用的拾取类管理物品栏102 
4.15　用鼠标滚轮控制滚动条105 
4.16　实现自定义的鼠标光标图标107 

## 第5章　控制动画111 

5.1　引言111 
5.2　配置一个人物角色的Avatar和空闲动画111 
5.3　用Root Motion和 Blend Trees移动人物角色115 
5.4　用层和遮罩混合动画123 
5.5　通过脚本重写 Root Motion128 
5.6　把刚性道具加入到动画角色中134 
5.7　让动画角色投掷物体137 
5.8　把 ragdoll物理系统应用于人物角色140 
5.9　通过旋转人物角色的身躯瞄准144 

## 第6章　播放和处理声音147 

6.1　引言147 
6.2　让音调与动画速度相匹配147 
6.3　添加自定义的音量控件150 
6.4　用Reverb Zones模拟隧道环境155 
6.5　防止声音片断在开始播放后又重新开始157 
6.6　在对象自销毁之前播放声音158 
6.7　制作动态配乐160 

## 第7章　使用外部资源文件和设备166 

7.1　引言166 
7.2　通过 Unity Default Resources加载外部资源文件166 
7.3　通过手动保存文件到Unity的资源文件夹加载外部文件169 
7.4　通过从互联网下载文件加载外部资源文件171 
7.5　使用静态属性保存和加载玩家数据173 
7.6　使用 PlayerPrefs保存和加载玩家数据176 
7.7　在游戏中保存截屏178 
7.8　使用Zigfu示例在Unity中用微软的Kinect控制角色180 
7.9　用微软的Kinect控制器让角色动起来182 
7.10　通过从微软的Kinect控制器保存移动来自制mocap184 
7.11　用PHP/MYSQL制作排行榜188 

## 第8章　使用外部文本文件和XML数据194 

8.1　引言194 
8.2　用TextAsset类的公有变量加载外部文本文件194 
8.3　用 C#文件流加载外部文本文件195 
8.4　用C#文件流保存外部文本文件198 
8.5　加载并解析外部的XML 文件199 
8.6　用XMLWriter手动创建XML文本数据202 
8.7　通过序列化自动创建XML文本数据206 
8.8　通过XMLDocument.Save()直接保存XML到文本文件来创建XML文本文件209 

## 第9章　管理对象状态和控制对象移动213 

9.1　引言213 
9.2　通过玩家的控制器控制立方体的移动213 
9.3　控制对象的朝向行为216 
9.4　控制对象到对象的移动（寻找、逃离、跟随一段距离）218 
9.5　通过flocking控制一组对象移动224 
9.6　以前进速度发射实例化的物体229 
9.7　寻找一个随机出生点233 
9.8　寻找最近的出生点236 
9.9　按路径点顺序跟随238 
9.10　用状态管理对象行为241 
9.11　用状态模式管理复杂的对象行为244 

## 第10章　用附加功能和优化选项改进游戏249 

10.1　引言249 
10.2　暂停游戏249 
10.3　实现慢镜头252 
10.4　用偏振投影实现3D 立体投影255 
10.5　阻止游戏被托管在未知服务器上259 
10.6　用代码分析识别性能的“瓶颈” 261 
10.7　通过在“死亡”时间销毁对象减少对象的数量264 
10.8　尽可能通过禁用对象减少启用对象的数量265 
10.9　通过委托和事件（避免SendMessage）改进效率268 
10.10　用Coroutine定期执行函数并且独立于帧率271 
10.11　用几个带有Coroutine的帧分摊大计算量272 
10.12　缓存，而不是使用反射和查找对象274 

## 第11章　利用Unity专业版278 

11.1　引言278 
11.2　用景深动态地聚焦对象278 
11.3　创建后视镜280 
11.4　在场景中播放视频284 
11.5　用音频滤镜模拟水下环境286 
11.6　加载和播放外部电影文件288 

